<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kevin Valdivia">
<meta name="dcterms.date" content="2023-10-19">

<title>Kevin Valdivia - Beyond Westphalia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Kevin Valdivia - Beyond Westphalia">
<meta property="og:description" content="Redefining “The State” in the Age of Globalization">
<meta property="og:site_name" content="Kevin Valdivia">
<meta property="og:locale" content="en_US">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kevin Valdivia</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-essays" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Essays</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-essays">    
        <li>
    <a class="dropdown-item" href="../../essays/mex_ine/electoral_reforms.html">
 <span class="dropdown-text">Behind AMLO’s Electoral Reforms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/mex_ed/mexican_education.html">
 <span class="dropdown-text">The Mexican Education System</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/cfa_zone/cfa_zone.html">
 <span class="dropdown-text">Economic Integration in Francophone Africa</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/westphalia/westphalia.html">
 <span class="dropdown-text">Beyond Westphalia</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/peso/peso_doc.html">
 <span class="dropdown-text">The Peso In Crisis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../../projects/the office/office_text_analysis.html">
 <span class="dropdown-text"><strong>Text Analysis:</strong> <em>The Office</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/simulation_study/permutation_experiment.html">
 <span class="dropdown-text"><strong>Permutation Analysis</strong>: <em>Room Draw</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/sql_mini_project/sql_project.html">
 <span class="dropdown-text"><strong>Graph Replication</strong>: With SQL</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../tidytuesday/tidytuesday.html"> 
<span class="menu-text"><strong>Tidytuesday Adventures</strong></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a>
  <ul class="collapse">
  <li><a href="#political-influence" id="toc-political-influence" class="nav-link" data-scroll-target="#political-influence">Political Influence</a></li>
  <li><a href="#institutional-influence" id="toc-institutional-influence" class="nav-link" data-scroll-target="#institutional-influence">Institutional Influence</a></li>
  <li><a href="#non-state-influences" id="toc-non-state-influences" class="nav-link" data-scroll-target="#non-state-influences">Non-State Influences</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#works-cited" id="toc-works-cited" class="nav-link" data-scroll-target="#works-cited">Works Cited</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Beyond Westphalia</h1>
<p class="subtitle lead">Redefining “The State” in the Age of Globalization</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kevin Valdivia </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 19, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>The international order appears to revolve around a ‘traditional’ state-based system. States seem to be autonomous political actors who make decisions for their clearly demarcated territory. However, this ‘traditional’ Westphalian model of state systems has never truly existed, and its facade is deteriorating. The erosion of the traditional state system is primarily due to globalizing forces, which have complicated the straightforward conception of the state. To understand this erosion, three aspects of globalization must be considered: political influences, institutional influences, and influences from non-state actors.</p>
<section id="background" class="level1">
<h1>Background</h1>
<p>To identify the growth of the complex state system and the departure from the ‘traditional’ sovereign state system, one must first understand the idea of a ‘traditional’ sovereign state. The Westphalian model of the state system is taken to be the defining moment for this conception of the modern sovereign state, and it defines the characteristics of a state to be “autonomy and territory” (Krasner, 1995). In this context, autonomy refers to a right to non-interference at the domestic level of another state. Territory is the territorial demarcation lines that divide legitimate control over territory. To demonstrate the departure from the ‘traditional’ sovereign state, we will illustrate the complexities surrounding territorial sovereignty and political autonomy.</p>
<p>Simply put, the Westphalian model portrays state power and influence ending where the next one begins, with minimal involvement in each other’s political processes. However, globalizing forces have blurred this division of political power. Globalization has made states so deeply intertwined that there is a blurring and subsequent erosion of the ‘traditional’ sovereign state lines. This transformation is evident in three key elements: states’ direct political involvement in other states’ affairs, state involvement through institutional processes, and the evolution of non-state influences on states’ power. States cannot function autonomously when powerful actors exert significant influence over their decision-making, because it undermines their autonomy as governing bodies of territories.</p>
<section id="political-influence" class="level2">
<h2 class="anchored" data-anchor-id="political-influence">Political Influence</h2>
<p>States use their power to influence other states, especially those with significant political and economic resources. When power extends beyond borders in decision-making, the Westphalian model of state autonomy is compromised. States may appear to make decisions independently, but they are often influenced in their decision-making process. Political influences manifest prominently in three forms. First, great powers align the political conduct of states in their spheres of influence to their agendas. Second, states use economic wealth to manipulate other states into desired political conduct. Third, states use soft power to push their national ideology onto other states.</p>
<p>Great powers use their political influence to control states in their alliances and in their sphere of interest. This international political involvement violates the traditional meaning of Westphalian autonomy. The actions taken by the United States, the US, during the Cold War era are a prime example of how states leveraged their political influence. The US implemented the Marshall Plan, providing $13.3 billion (equivalent to $150 billion when adjusted for inflation) to assist sixteen European states. This was done because the U.S. believed that high levels of poverty in war-torn Europe would “strengthen the appeal of communism and fascism”(National Museum of American Diplomacy, n.d.). To prevent changes in the political leanings of these European partners, the US boosted their economies and brought them into an alliance to deter them from choosing communism. Great powers are competing to shape political ideologies within their jurisdiction of influence. This very competition is eroding the traditional sovereign state.</p>
<p>States have also used their economic wealth in a quid quo pro manner, especially through investment, to interfere in other states’ political processes. China’s “Dollar Diplomacy” strategy provides stimulus packages and other investment opportunities for countries in exchange for diplomatic recognition. For example, in 2020 it provided $187 million dollars to Pacific island states in exchange for diplomatic recognition (Chinese Aid to the Pacific, 2023). This illustrates China’s influence in the political affairs of politically weaker states. Global powers exert their influence within their respective spheres of control by interfering in the internal processes of other states, thereby complicating the concept of state autonomy. In a similar vein, Chinese “debt trap” diplomacy involves providing seemingly benevolent loans for the construction of infrastructure projects in the global South. However, when these recipient states become unable to repay these loans, they are compelled to negotiate with the Chinese government (Bradsher, 2022). This negotiation may include ceding territory to the Chinese government, as was the case for a Sri Lankan port in 2018 (Abi-Habib, 2018). In these situations, China has leveraged its economic might to infringe upon the territorial sovereignty of these states, illustrating the erosion of the traditional concept of sovereign statehood.</p>
<p>The pervasive influence of soft power, on the other hand, is an indirect tool with clear but unmeasurable effects on state operations. For example, McDonald’s has 38,000 locations in over 100 countries, which influences the regions in which they operate by exporting American culture through food (Franchising Overview, n.d.). McDonald’s is a tool under which the US operates to globally promote pro-American ideals and soft power influence. Another example is how American television is broadcast all over the world and in turn, propagates an American mentality. Through soft power, states and their nationals are psychologically influenced by an American mentality, changing their approach to governance and diplomacy. When states are impacted by this soft power influence, the fully autonomous narrative of the traditional state is threatened.</p>
</section>
<section id="institutional-influence" class="level2">
<h2 class="anchored" data-anchor-id="institutional-influence">Institutional Influence</h2>
<p>The authority of increasingly powerful international institutions has eroded the traditional Westphalian notion of state systems. International institutions complicate state autonomy in three ways: international institutions gain a unique legitimate authority for intervention, great powers use international bodies to influence other states, and the implementation of regional integration.</p>
<p>International organizations have cultivated a reputation as legitimate global authorities. From a constructivist viewpoint that emphasizes norms, it becomes clear that institutions such as the United Nations (UN) acquire distinctive legitimacy to intervene in humanitarian conflicts when its membership deems it necessary. When there is consensus across states to intervene, it can be assumed that the intervention is just and necessary. The UN can then send peacekeeping missions or commission a specific coalition of states to intervene in a state conflict. However, intervention directly contradicts the Westphalian model of respect for the political process occurring within a state. For example, in 1995, Operation Deliberate Force was a UN-supported NATO (North Atlantic Treaty Organization) bombing of Serbian forces in Yugoslavia (Beale, 1997). UN approval bestowed the mission with a justified humanitarian image that took precedence over considerations of Yugoslavian autonomy. International organizations are increasingly acquiring the legitimate capacity to intervene in state affairs. This development contradicts the Westphalian model’s principle of states maintaining unambiguous autonomous control over their territory.</p>
<p>Through international organs, great powers take advantage of the legitimacy of international organizations to project their influence on other states. For instance, the composition of the UN’s Security Council, which features five permanent members with veto power, underscores the continued dominance of states within a vital international organization. It is also important to note that one of the members with veto power, the US, contributes 12.5 billion dollars to the UN (CFR.org Editors, 2023). These great powers shape international organizations to suit their interest and cooperate with them to the extent they desire. These bodies serve as an extension for great powers to exert their influence on the world stage, demonstrating how states are not only limited to their physical territory. Another example of the US using its economic might to influence organizations is the International Monetary Fund (IMF). States fund this institution and have the authority to weigh in on the use of the funds proportionally to their funding. The United States contributes to 17.43% of the IMF’s funds; this contribution, in turn, grants veto power in IMF decision-making (Congressional Research Service, 2022). Through international institutions, the United States and other great powers can mandate policy adoption in other countries in exchange for loans.</p>
<p>Efforts at regional integration through the establishment of supranational institutions defy both Westphalian criteria of autonomous control and territorial demarcation. For example, regional integration in West Africa in the form of the ECOWAS (Economic Community of West African States) is attempting to create a single currency, called the ECO in 2027 (West African Regional Bloc Adopts New Plan to Launch Eco Single Currency in 2027, 2021). However, a shared currency will create a supranational governing body that would manage the monetary policy in the states. Supranational organizations, like the ECOWAS, do not fit in the Westphalian model of autonomy because there are numerous organizations with authority in the decision-making of a state. Now focusing on territorial complexities, the European Union (EU) also operates under a supranational system, but they have the principles of freedom of movement with the region (McBride, 2022). This means individuals and commerce can move freely within the region. Territorial divisions are less important in the age of supranational organizations, such as the EU, where there is a concerted effort to facilitate movement across these borders. The simplistic territorial divisions in the Westphalian states no longer apply with the introduction of new models for regional integration.</p>
</section>
<section id="non-state-influences" class="level2">
<h2 class="anchored" data-anchor-id="non-state-influences">Non-State Influences</h2>
<p>Previous examples have primarily centered on how states and institutions employ political tools to exert influence on the policies of other states. Nonetheless, non-state actors also influence states to the extent that they are no longer autonomously in decision-making but, instead, are subject to external influences. These non-state actors encompass lobbyists and multinational corporations. Lobbyists employ significant sums of money to advocate for and influence policy-making in state institutions, impeding genuine state autonomy. In the US, more than 4.09 billion dollars are used by organizations to lobby the government (Total Lobbying Spending U.S. 2022, 2023). As illustrated in Figure 1, the increasing prevalence of lobbying indicates that states are becoming less autonomous actors and more conduits for external influence. States no longer make autonomous decisions; rather, they serve as vehicles for lobbyists to enact their agencies.</p>
<p><strong>Figure 1</strong> <em>Total lobbying spending in the United States from 1998 to 2023 (in billion U.S. dollars)</em> <img src="lobbying.png" class="img-fluid"> <small><em>Notes.</em> There has been a consistent rise in US lobbying expenditure (Total Lobbying Spending U.S. 2022, 2023).</small></p>
<p>Multinational corporations, especially those based in great powers, have had a strong influence on the political processes of other states. One example of this interference was the banana companies in Central American countries. At its peak, the United Fruit Company owned 42% of Guatemalan land (RS#01: Background on the Guatemalan Coup of 1954, n.d.). The Guatemalan government did not have Westphalian control of this territory, when multinational corporations had such expansive ownership of the land.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This essay has illustrated that the traditional sovereign state is undergoing erosion due to globalizing forces in three distinct ways: politically, institutionally, and through the actions of non-state actors. Understanding this departure from the traditional sovereign state can provide insights into the emerging complexities of statehood.</p>
<hr>
</section>
<section id="works-cited" class="level1">
<h1>Works Cited</h1>
<ul>
<li><p>Abi-Habib, M. (2018, June 25). How China Got Sri Lanka to Cough Up a Port. <em>The New York Times</em>. <a href="https://www.nytimes.com/2018/06/25/world/asia/china-sri-lanka-port.html">Link</a></p></li>
<li><p>Beale, M. O. (1997). Operation Deliberate Force (Bombs over Bosnia, pp.&nbsp;31–41). <em>Air University Press</em>. <a href="https://www.jstor.org/stable/resrep13772.10">Link</a></p></li>
<li><p>Bradsher, K. (2022, October 6). In Global Slowdown, China Holds Sway Over Countries’ Fates. <em>The New York Times</em>. <a href="https://www.nytimes.com/2022/10/06/business/china-debt-economy-global-slowdown.html">Link</a></p></li>
<li><p>CFR.org Editors. (2023, August 22). How Much Does the U.S. Contribute to the UN? <em>Council on Foreign Relations</em>. <a href="https://www.cfr.org/article/funding-united-nations-what-impact-do-us-contributions-have-un-agencies-and-programs">Link</a></p></li>
<li><p>Chinese aid to the Pacific: Decreasing, but not disappearing | Lowy Institute. (2023, January 25). <a href="https://www.lowyinstitute.org/the-interpreter/chinese-aid-pacific-decreasing-not-disappearing">Link</a></p></li>
<li><p>Congressional Research Service. (2022a). <em>CFR.org Editors, 2023</em>. <a href="https://sgp.fas.org/crs/misc/IF10676.pdf">Link</a></p></li>
<li><p>Congressional Research Service. (2022b). The International Monetary Fund. <a href="https://sgp.fas.org/crs/misc/IF10676.pdf">Link</a></p></li>
<li><p>Franchising Overview. (n.d.). <em>Corporate.Mcdonalds.Com</em>. Retrieved October 19, 2023, from <a href="https://www.mcdonalds.com/corpmcd/franchising-overview.html">Link</a></p></li>
<li><p>Krasner, S. D. (1995). Compromising Westphalia. <em>International Security</em>, 20(3), 115–151. <a href="https://doi.org/10.2307/2539141">Link</a></p></li>
<li><p>McBride, J. (2022, March 11). How Does the European Union Work? <em>Council on Foreign Relations</em>. <a href="https://www.cfr.org/backgrounder/how-does-european-union-work">Link</a></p></li>
<li><p>National Museum of American Diplomacy. (n.d.). The Marshall Plan. <em>The National Museum of American Diplomacy</em>. Retrieved October 19, 2023, from <a href="https://diplomacy.state.gov/online-exhibits/diplomacy-is-our-mission/development/the-marshall-plan/">Link</a></p></li>
<li><p>RS#01: Background on the Guatemalan Coup of 1954. (n.d.). <em>Baltimore County History Labs Program</em>. <a href="https://www2.umbc.edu/che/tahlessons/pdf/historylabs/Guatemalan_Coup_student:RS01.pdf">Link</a></p></li>
<li><p>Total lobbying spending U.S. 2022. (2023, February). <em>Statista</em>. <a href="https://www.statista.com/statistics/257337/total-lobbying-spending-in-the-us/">Link</a></p></li>
<li><p>West African regional bloc adopts new plan to launch Eco single currency in 2027. (2021, June 19). <em>France 24</em>. <a href="https://www.france24.com/en/africa/20210619-west-african-regional-bloc-adopts-new-plan-to-launch-eco-single-currency-in-2027">Link</a></p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="yourusername/yourrepository" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024 Kevin Valdivia. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>