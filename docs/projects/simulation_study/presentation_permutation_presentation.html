<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kevin Valdivia">
<meta name="dcterms.date" content="2024-12-06">

<title>Room Draw – Kevin Valdivia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Room Draw – Kevin Valdivia">
<meta property="og:description" content="Permutation Experiment">
<meta property="og:image" content="room_pref.jpg">
<meta property="og:site_name" content="Kevin Valdivia">
<meta property="og:locale" content="en_US">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kevin Valdivia</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-essays" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Essays</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-essays">    
        <li>
    <a class="dropdown-item" href="../../essays/mex_ine/electoral_reforms.html">
 <span class="dropdown-text">Behind AMLO’s Electoral Reforms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/mex_ed/mexican_education.html">
 <span class="dropdown-text">The Mexican Education System</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/cfa_zone/cfa_zone.html">
 <span class="dropdown-text">Economic Integration in Francophone Africa</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../essays/westphalia/westphalia.html">
 <span class="dropdown-text">Beyond Westphalia</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/peso/peso_doc.html">
 <span class="dropdown-text">The Peso In Crisis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../../projects/the office/office_text_analysis.html">
 <span class="dropdown-text"><strong>Text Analysis:</strong> <em>The Office</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/simulation_study/permutation_experiment.html">
 <span class="dropdown-text"><strong>Permutation Analysis</strong>: <em>Room Draw</em></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/sql_mini_project/sql_project.html">
 <span class="dropdown-text"><strong>Graph Replication</strong>: With SQL</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects/amlo_mex/amlo_page.html">
 <span class="dropdown-text"><strong>Under Development</strong>: The Rise of AMLO</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../tidytuesday/tidytuesday.html"> 
<span class="menu-text"><strong>Tidytuesday Adventures</strong></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#functions-used" id="toc-functions-used" class="nav-link" data-scroll-target="#functions-used">Functions Used</a></li>
  <li><a href="#room_pref" id="toc-room_pref" class="nav-link" data-scroll-target="#room_pref"><code>room_pref</code></a></li>
  <li><a href="#space_identifier" id="toc-space_identifier" class="nav-link" data-scroll-target="#space_identifier"><code>space_identifier</code></a></li>
  <li><a href="#room_assignment" id="toc-room_assignment" class="nav-link" data-scroll-target="#room_assignment"><code>room_assignment</code></a></li>
  <li><a href="#my_room" id="toc-my_room" class="nav-link" data-scroll-target="#my_room"><code>my_room</code></a></li>
  <li><a href="#my-room-draw" id="toc-my-room-draw" class="nav-link" data-scroll-target="#my-room-draw">My Room Draw</a></li>
  <li><a href="#my-room-draw-1" id="toc-my-room-draw-1" class="nav-link" data-scroll-target="#my-room-draw-1">My Room Draw</a></li>
  <li><a href="#my-room-draw-2" id="toc-my-room-draw-2" class="nav-link" data-scroll-target="#my-room-draw-2">My Room Draw</a></li>
  <li><a href="#my-room-draw-3" id="toc-my-room-draw-3" class="nav-link" data-scroll-target="#my-room-draw-3">My Room Draw</a></li>
  <li><a href="#my-room-draw-4" id="toc-my-room-draw-4" class="nav-link" data-scroll-target="#my-room-draw-4">My Room Draw</a></li>
  <li><a href="#room_draws" id="toc-room_draws" class="nav-link" data-scroll-target="#room_draws"><code>room_draws</code></a></li>
  <li><a href="#room-draw" id="toc-room-draw" class="nav-link" data-scroll-target="#room-draw">Room Draw</a></li>
  <li><a href="#number-of-draws-to-proportions" id="toc-number-of-draws-to-proportions" class="nav-link" data-scroll-target="#number-of-draws-to-proportions">Number of Draws To Proportions</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="presentation_permutation_presentation.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Room Draw</h1>
<p class="subtitle lead">Permutation Experiment</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kevin Valdivia </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 6, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<p><em>Simulate the average probability of getting my preferred room across random room draw over number of draws</em></p>
<ul>
<li><strong>Room types</strong>: red (1st choice), blue (2nd), green (3rd)</li>
<li><strong>Preferences</strong>: 60% prefer red, 30% blue, 10% green</li>
<li><strong>Room availability</strong>: 30 red, 30 blue, 40 green</li>
<li><strong>Total students</strong>: 100 (all in the same room)</li>
</ul>
</section>
<section id="functions-used" class="level2">
<h2 class="anchored" data-anchor-id="functions-used">Functions Used</h2>
<ul>
<li><code>room_pref</code>: Assigns <strong>prefrences</strong> to people before me</li>
<li><code>space_identifier</code>: Checks for room <strong>availability</strong></li>
<li><code>room_assignment</code>: Assigns <strong>rooms</strong> to people before me</li>
<li><code>my_room</code>: Returns <strong>my room assignment</strong> in one random draw</li>
<li><code>room_draws</code>: Returns a tibble with # of room draws &amp; avg probabilites of me getting each room</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    draws  room proportion
1       1   red 1.00000000
2       1  blue 0.00000000
3       1 green 0.00000000
4       2   red 0.50000000
5       2  blue 0.00000000
6       2 green 0.50000000
7       3   red 0.66666667
8       3  blue 0.33333333
9       3 green 0.00000000
10      4   red 0.25000000
11      4  blue 0.00000000
12      4 green 0.75000000
13      5   red 0.20000000
14      5  blue 0.00000000
15      5 green 0.80000000
16      6   red 0.66666667
17      6  blue 0.16666667
18      6 green 0.16666667
19      7   red 0.14285714
20      7  blue 0.00000000
21      7 green 0.85714286
22      8   red 0.50000000
23      8  blue 0.37500000
24      8 green 0.12500000
25      9   red 0.55555556
26      9  blue 0.11111111
27      9 green 0.33333333
28     10   red 0.50000000
29     10  blue 0.20000000
30     10 green 0.30000000
31     11   red 0.54545455
32     11  blue 0.27272727
33     11 green 0.18181818
34     12   red 0.58333333
35     12  blue 0.16666667
36     12 green 0.25000000
37     13   red 0.61538462
38     13  blue 0.23076923
39     13 green 0.15384615
40     14   red 0.50000000
41     14  blue 0.21428571
42     14 green 0.28571429
43     15   red 0.53333333
44     15  blue 0.13333333
45     15 green 0.33333333
46     16   red 0.68750000
47     16  blue 0.12500000
48     16 green 0.18750000
49     17   red 0.47058824
50     17  blue 0.23529412
51     17 green 0.29411765
52     18   red 0.38888889
53     18  blue 0.22222222
54     18 green 0.38888889
55     19   red 0.31578947
56     19  blue 0.31578947
57     19 green 0.36842105
58     20   red 0.65000000
59     20  blue 0.15000000
60     20 green 0.20000000
61     21   red 0.57142857
62     21  blue 0.23809524
63     21 green 0.19047619
64     22   red 0.50000000
65     22  blue 0.09090909
66     22 green 0.40909091
67     23   red 0.60869565
68     23  blue 0.17391304
69     23 green 0.21739130
70     24   red 0.50000000
71     24  blue 0.20833333
72     24 green 0.29166667
73     25   red 0.40000000
74     25  blue 0.24000000
75     25 green 0.36000000
76     26   red 0.57692308
77     26  blue 0.19230769
78     26 green 0.23076923
79     27   red 0.33333333
80     27  blue 0.44444444
81     27 green 0.22222222
82     28   red 0.46428571
83     28  blue 0.25000000
84     28 green 0.28571429
85     29   red 0.44827586
86     29  blue 0.27586207
87     29 green 0.27586207
88     30   red 0.46666667
89     30  blue 0.20000000
90     30 green 0.33333333
91     31   red 0.51612903
92     31  blue 0.12903226
93     31 green 0.35483871
94     32   red 0.56250000
95     32  blue 0.12500000
96     32 green 0.31250000
97     33   red 0.63636364
98     33  blue 0.18181818
99     33 green 0.18181818
100    34   red 0.44117647
101    34  blue 0.14705882
102    34 green 0.41176471
103    35   red 0.37142857
104    35  blue 0.40000000
105    35 green 0.22857143
106    36   red 0.47222222
107    36  blue 0.19444444
108    36 green 0.33333333
109    37   red 0.48648649
110    37  blue 0.21621622
111    37 green 0.29729730
112    38   red 0.65789474
113    38  blue 0.10526316
114    38 green 0.23684211
115    39   red 0.56410256
116    39  blue 0.17948718
117    39 green 0.25641026
118    40   red 0.40000000
119    40  blue 0.25000000
120    40 green 0.35000000
121    41   red 0.34146341
122    41  blue 0.31707317
123    41 green 0.34146341
124    42   red 0.40476190
125    42  blue 0.21428571
126    42 green 0.38095238
127    43   red 0.46511628
128    43  blue 0.16279070
129    43 green 0.37209302
130    44   red 0.50000000
131    44  blue 0.25000000
132    44 green 0.25000000
133    45   red 0.53333333
134    45  blue 0.20000000
135    45 green 0.26666667
136    46   red 0.52173913
137    46  blue 0.17391304
138    46 green 0.30434783
139    47   red 0.38297872
140    47  blue 0.19148936
141    47 green 0.42553191
142    48   red 0.47916667
143    48  blue 0.20833333
144    48 green 0.31250000
145    49   red 0.59183673
146    49  blue 0.18367347
147    49 green 0.22448980
148    50   red 0.44000000
149    50  blue 0.26000000
150    50 green 0.30000000
151    51   red 0.60784314
152    51  blue 0.13725490
153    51 green 0.25490196
154    52   red 0.51923077
155    52  blue 0.26923077
156    52 green 0.21153846
157    53   red 0.47169811
158    53  blue 0.13207547
159    53 green 0.39622642
160    54   red 0.44444444
161    54  blue 0.22222222
162    54 green 0.33333333
163    55   red 0.52727273
164    55  blue 0.18181818
165    55 green 0.29090909
166    56   red 0.51785714
167    56  blue 0.12500000
168    56 green 0.35714286
169    57   red 0.50877193
170    57  blue 0.21052632
171    57 green 0.28070175
172    58   red 0.46551724
173    58  blue 0.17241379
174    58 green 0.36206897
175    59   red 0.54237288
176    59  blue 0.27118644
177    59 green 0.18644068
178    60   red 0.38333333
179    60  blue 0.30000000
180    60 green 0.31666667
181    61   red 0.54098361
182    61  blue 0.16393443
183    61 green 0.29508197
184    62   red 0.54838710
185    62  blue 0.16129032
186    62 green 0.29032258
187    63   red 0.50793651
188    63  blue 0.25396825
189    63 green 0.23809524
190    64   red 0.45312500
191    64  blue 0.17187500
192    64 green 0.37500000
193    65   red 0.46153846
194    65  blue 0.07692308
195    65 green 0.46153846
196    66   red 0.46969697
197    66  blue 0.27272727
198    66 green 0.25757576
199    67   red 0.44776119
200    67  blue 0.23880597
201    67 green 0.31343284
202    68   red 0.57352941
203    68  blue 0.20588235
204    68 green 0.22058824
205    69   red 0.49275362
206    69  blue 0.20289855
207    69 green 0.30434783
208    70   red 0.50000000
209    70  blue 0.17142857
210    70 green 0.32857143
211    71   red 0.50704225
212    71  blue 0.19718310
213    71 green 0.29577465
214    72   red 0.55555556
215    72  blue 0.19444444
216    72 green 0.25000000
217    73   red 0.46575342
218    73  blue 0.21917808
219    73 green 0.31506849
220    74   red 0.55405405
221    74  blue 0.17567568
222    74 green 0.27027027
223    75   red 0.53333333
224    75  blue 0.20000000
225    75 green 0.26666667
226    76   red 0.46052632
227    76  blue 0.21052632
228    76 green 0.32894737
229    77   red 0.62337662
230    77  blue 0.14285714
231    77 green 0.23376623
232    78   red 0.39743590
233    78  blue 0.20512821
234    78 green 0.39743590
235    79   red 0.54430380
236    79  blue 0.17721519
237    79 green 0.27848101
238    80   red 0.46250000
239    80  blue 0.25000000
240    80 green 0.28750000
241    81   red 0.58024691
242    81  blue 0.14814815
243    81 green 0.27160494
244    82   red 0.59756098
245    82  blue 0.18292683
246    82 green 0.21951220
247    83   red 0.56626506
248    83  blue 0.16867470
249    83 green 0.26506024
250    84   red 0.46428571
251    84  blue 0.23809524
252    84 green 0.29761905
253    85   red 0.48235294
254    85  blue 0.28235294
255    85 green 0.23529412
256    86   red 0.52325581
257    86  blue 0.13953488
258    86 green 0.33720930
259    87   red 0.50574713
260    87  blue 0.25287356
261    87 green 0.24137931
262    88   red 0.56818182
263    88  blue 0.13636364
264    88 green 0.29545455
265    89   red 0.51685393
266    89  blue 0.25842697
267    89 green 0.22471910
268    90   red 0.60000000
269    90  blue 0.14444444
270    90 green 0.25555556
271    91   red 0.51648352
272    91  blue 0.18681319
273    91 green 0.29670330
274    92   red 0.51086957
275    92  blue 0.14130435
276    92 green 0.34782609
277    93   red 0.47311828
278    93  blue 0.18279570
279    93 green 0.34408602
280    94   red 0.40425532
281    94  blue 0.25531915
282    94 green 0.34042553
283    95   red 0.34736842
284    95  blue 0.25263158
285    95 green 0.40000000
286    96   red 0.51041667
287    96  blue 0.21875000
288    96 green 0.27083333
289    97   red 0.51546392
290    97  blue 0.19587629
291    97 green 0.28865979
292    98   red 0.44897959
293    98  blue 0.26530612
294    98 green 0.28571429
295    99   red 0.49494949
296    99  blue 0.22222222
297    99 green 0.28282828
298   100   red 0.50000000
299   100  blue 0.24000000
300   100 green 0.26000000
301   101   red 0.47524752
302   101  blue 0.16831683
303   101 green 0.35643564
304   102   red 0.43137255
305   102  blue 0.23529412
306   102 green 0.33333333
307   103   red 0.51456311
308   103  blue 0.26213592
309   103 green 0.22330097
310   104   red 0.54807692
311   104  blue 0.20192308
312   104 green 0.25000000
313   105   red 0.55238095
314   105  blue 0.16190476
315   105 green 0.28571429
316   106   red 0.58490566
317   106  blue 0.13207547
318   106 green 0.28301887
319   107   red 0.52336449
320   107  blue 0.18691589
321   107 green 0.28971963
322   108   red 0.50000000
323   108  blue 0.18518519
324   108 green 0.31481481
325   109   red 0.53211009
326   109  blue 0.16513761
327   109 green 0.30275229
328   110   red 0.49090909
329   110  blue 0.20000000
330   110 green 0.30909091
331   111   red 0.56756757
332   111  blue 0.19819820
333   111 green 0.23423423
334   112   red 0.46428571
335   112  blue 0.18750000
336   112 green 0.34821429
337   113   red 0.49557522
338   113  blue 0.23008850
339   113 green 0.27433628
340   114   red 0.49122807
341   114  blue 0.20175439
342   114 green 0.30701754
343   115   red 0.43478261
344   115  blue 0.22608696
345   115 green 0.33913043
346   116   red 0.58620690
347   116  blue 0.16379310
348   116 green 0.25000000
349   117   red 0.54700855
350   117  blue 0.17948718
351   117 green 0.27350427
352   118   red 0.52542373
353   118  blue 0.25423729
354   118 green 0.22033898
355   119   red 0.46218487
356   119  blue 0.22689076
357   119 green 0.31092437
358   120   red 0.49166667
359   120  blue 0.20833333
360   120 green 0.30000000
361   121   red 0.45454545
362   121  blue 0.23140496
363   121 green 0.31404959
364   122   red 0.46721311
365   122  blue 0.24590164
366   122 green 0.28688525
367   123   red 0.44715447
368   123  blue 0.23577236
369   123 green 0.31707317
370   124   red 0.55645161
371   124  blue 0.17741935
372   124 green 0.26612903
373   125   red 0.52000000
374   125  blue 0.17600000
375   125 green 0.30400000
376   126   red 0.50793651
377   126  blue 0.21428571
378   126 green 0.27777778
379   127   red 0.54330709
380   127  blue 0.12598425
381   127 green 0.33070866
382   128   red 0.50000000
383   128  blue 0.22656250
384   128 green 0.27343750
385   129   red 0.48062016
386   129  blue 0.18604651
387   129 green 0.33333333
388   130   red 0.50000000
389   130  blue 0.21538462
390   130 green 0.28461538
391   131   red 0.53435115
392   131  blue 0.16030534
393   131 green 0.30534351
394   132   red 0.50757576
395   132  blue 0.22727273
396   132 green 0.26515152
397   133   red 0.58646617
398   133  blue 0.14285714
399   133 green 0.27067669
400   134   red 0.47761194
401   134  blue 0.26119403
402   134 green 0.26119403
403   135   red 0.48888889
404   135  blue 0.18518519
405   135 green 0.32592593
406   136   red 0.52941176
407   136  blue 0.23529412
408   136 green 0.23529412
409   137   red 0.59124088
410   137  blue 0.14598540
411   137 green 0.26277372
412   138   red 0.52898551
413   138  blue 0.21014493
414   138 green 0.26086957
415   139   red 0.46762590
416   139  blue 0.19424460
417   139 green 0.33812950
418   140   red 0.53571429
419   140  blue 0.16428571
420   140 green 0.30000000
421   141   red 0.52482270
422   141  blue 0.16312057
423   141 green 0.31205674
424   142   red 0.44366197
425   142  blue 0.25352113
426   142 green 0.30281690
427   143   red 0.48951049
428   143  blue 0.18181818
429   143 green 0.32867133
430   144   red 0.52777778
431   144  blue 0.19444444
432   144 green 0.27777778
433   145   red 0.58620690
434   145  blue 0.13103448
435   145 green 0.28275862
436   146   red 0.47260274
437   146  blue 0.19863014
438   146 green 0.32876712
439   147   red 0.43537415
440   147  blue 0.24489796
441   147 green 0.31972789
442   148   red 0.54729730
443   148  blue 0.19594595
444   148 green 0.25675676
445   149   red 0.49664430
446   149  blue 0.21476510
447   149 green 0.28859060
448   150   red 0.48000000
449   150  blue 0.23333333
450   150 green 0.28666667
451   151   red 0.49668874
452   151  blue 0.16556291
453   151 green 0.33774834
454   152   red 0.50657895
455   152  blue 0.21052632
456   152 green 0.28289474
457   153   red 0.41176471
458   153  blue 0.26797386
459   153 green 0.32026144
460   154   red 0.52597403
461   154  blue 0.15584416
462   154 green 0.31818182
463   155   red 0.49032258
464   155  blue 0.25161290
465   155 green 0.25806452
466   156   red 0.53205128
467   156  blue 0.19871795
468   156 green 0.26923077
469   157   red 0.51592357
470   157  blue 0.22929936
471   157 green 0.25477707
472   158   red 0.53797468
473   158  blue 0.17088608
474   158 green 0.29113924
475   159   red 0.47798742
476   159  blue 0.20125786
477   159 green 0.32075472
478   160   red 0.47500000
479   160  blue 0.16875000
480   160 green 0.35625000
481   161   red 0.52795031
482   161  blue 0.21118012
483   161 green 0.26086957
484   162   red 0.51234568
485   162  blue 0.20987654
486   162 green 0.27777778
487   163   red 0.49079755
488   163  blue 0.20858896
489   163 green 0.30061350
490   164   red 0.51829268
491   164  blue 0.21951220
492   164 green 0.26219512
493   165   red 0.50909091
494   165  blue 0.16969697
495   165 green 0.32121212
496   166   red 0.42168675
497   166  blue 0.24096386
498   166 green 0.33734940
499   167   red 0.48502994
500   167  blue 0.20958084
501   167 green 0.30538922
502   168   red 0.47619048
503   168  blue 0.17261905
504   168 green 0.35119048
505   169   red 0.54437870
506   169  blue 0.15384615
507   169 green 0.30177515
508   170   red 0.52352941
509   170  blue 0.21176471
510   170 green 0.26470588
511   171   red 0.48538012
512   171  blue 0.19298246
513   171 green 0.32163743
514   172   red 0.50000000
515   172  blue 0.15697674
516   172 green 0.34302326
517   173   red 0.48554913
518   173  blue 0.16763006
519   173 green 0.34682081
520   174   red 0.45402299
521   174  blue 0.19540230
522   174 green 0.35057471
523   175   red 0.49714286
524   175  blue 0.17714286
525   175 green 0.32571429
526   176   red 0.47159091
527   176  blue 0.17613636
528   176 green 0.35227273
529   177   red 0.49717514
530   177  blue 0.16949153
531   177 green 0.33333333
532   178   red 0.47191011
533   178  blue 0.17977528
534   178 green 0.34831461
535   179   red 0.54189944
536   179  blue 0.17318436
537   179 green 0.28491620
538   180   red 0.47777778
539   180  blue 0.17222222
540   180 green 0.35000000
541   181   red 0.54696133
542   181  blue 0.16574586
543   181 green 0.28729282
544   182   red 0.52197802
545   182  blue 0.19780220
546   182 green 0.28021978
547   183   red 0.50273224
548   183  blue 0.20218579
549   183 green 0.29508197
550   184   red 0.47282609
551   184  blue 0.19021739
552   184 green 0.33695652
553   185   red 0.48108108
554   185  blue 0.16756757
555   185 green 0.35135135
556   186   red 0.43010753
557   186  blue 0.22580645
558   186 green 0.34408602
559   187   red 0.41711230
560   187  blue 0.22994652
561   187 green 0.35294118
562   188   red 0.57446809
563   188  blue 0.15425532
564   188 green 0.27127660
565   189   red 0.53968254
566   189  blue 0.18518519
567   189 green 0.27513228
568   190   red 0.45789474
569   190  blue 0.22105263
570   190 green 0.32105263
571   191   red 0.56544503
572   191  blue 0.18848168
573   191 green 0.24607330
574   192   red 0.49479167
575   192  blue 0.20833333
576   192 green 0.29687500
577   193   red 0.42487047
578   193  blue 0.19170984
579   193 green 0.38341969
580   194   red 0.52577320
581   194  blue 0.22680412
582   194 green 0.24742268
583   195   red 0.48205128
584   195  blue 0.23076923
585   195 green 0.28717949
586   196   red 0.49489796
587   196  blue 0.19387755
588   196 green 0.31122449
589   197   red 0.52284264
590   197  blue 0.16751269
591   197 green 0.30964467
592   198   red 0.44949495
593   198  blue 0.22727273
594   198 green 0.32323232
595   199   red 0.50251256
596   199  blue 0.22613065
597   199 green 0.27135678
598   200   red 0.49000000
599   200  blue 0.20500000
600   200 green 0.30500000</code></pre>
</div>
</div>
</section>
<section id="room_pref" class="level2">
<h2 class="anchored" data-anchor-id="room_pref"><code>room_pref</code></h2>
<ul>
<li><strong>Preferences</strong>: 60% prefer red, 30% blue, 10% green</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>room_pref <span class="ot">&lt;-</span> <span class="cf">function</span>(red_p, blue_p, green_p) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  dorms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  prob <span class="ot">&lt;-</span> <span class="fu">c</span>(red_p, blue_p, green_p)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(dorms, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>, <span class="at">prob =</span> prob)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It orders a list of dorm preference ranks by our desired likely probability for each person</p>
<p><img src="room_pref.jpg" class="img-fluid"></p>
</section>
<section id="space_identifier" class="level2">
<h2 class="anchored" data-anchor-id="space_identifier"><code>space_identifier</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>space_identifier <span class="ot">&lt;-</span> <span class="cf">function</span>(color_pref, room_occ, r_rooms, b_rooms, g_rooms) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  occ <span class="ot">&lt;-</span> <span class="fu">c</span>(r_rooms, b_rooms, g_rooms)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  color_num <span class="ot">&lt;-</span> <span class="fu">match</span>(color_pref, colors)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (occ[color_num] <span class="sc">&lt;</span> room_occ[color_num]) {</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(colors[color_num])</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="st">"no"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="space_identifier.jpg" class="img-fluid"></p>
</section>
<section id="room_assignment" class="level2">
<h2 class="anchored" data-anchor-id="room_assignment"><code>room_assignment</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>room_assignment <span class="ot">&lt;-</span> <span class="cf">function</span>(pref_order, room_occ, r_rooms, b_rooms, g_rooms) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (pref <span class="cf">in</span> pref_order) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    room <span class="ot">&lt;-</span> <span class="fu">space_identifier</span>(pref, room_occ, r_rooms, b_rooms, g_rooms)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (room <span class="sc">!=</span> <span class="st">"no"</span>) <span class="fu">return</span>(room)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="room_assignment.jpg" class="img-fluid"></p>
</section>
<section id="my_room" class="level2">
<h2 class="anchored" data-anchor-id="my_room"><code>my_room</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_room <span class="ot">&lt;-</span> <span class="cf">function</span>(lottery_num, pref_probs, room_occ) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  r_rooms <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  b_rooms <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  g_rooms <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  my_room_color <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span>lottery_num, <span class="cf">function</span>(num) {</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (num <span class="sc">==</span> lottery_num) {</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      my_room_color <span class="ot">&lt;&lt;-</span> <span class="fu">room_assignment</span>(<span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>), room_occ, r_rooms, b_rooms, g_rooms)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Getting Individual Room Prefs</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    pref_order <span class="ot">&lt;-</span> <span class="fu">room_pref</span>(pref_probs[[<span class="dv">1</span>]], pref_probs[[<span class="dv">2</span>]], pref_probs[[<span class="dv">3</span>]])</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    room <span class="ot">&lt;-</span> <span class="fu">room_assignment</span>(pref_order, room_occ, r_rooms, b_rooms, g_rooms)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (room <span class="sc">==</span> <span class="st">"red"</span>) {r_rooms <span class="ot">&lt;&lt;-</span> r_rooms <span class="sc">+</span> <span class="dv">1</span>}</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (room <span class="sc">==</span> <span class="st">"blue"</span>) {b_rooms <span class="ot">&lt;&lt;-</span> b_rooms <span class="sc">+</span> <span class="dv">1</span>}</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (room <span class="sc">==</span> <span class="st">"green"</span>) {g_rooms <span class="ot">&lt;&lt;-</span> g_rooms <span class="sc">+</span> <span class="dv">1</span>}</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(my_room_color)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="my-room-draw" class="level2">
<h2 class="anchored" data-anchor-id="my-room-draw">My Room Draw</h2>
<p><img src="room_draw_2.jpg" class="img-fluid"></p>
</section>
<section id="my-room-draw-1" class="level2">
<h2 class="anchored" data-anchor-id="my-room-draw-1">My Room Draw</h2>
<p><img src="room_draw_3.jpg" class="img-fluid"></p>
</section>
<section id="my-room-draw-2" class="level2">
<h2 class="anchored" data-anchor-id="my-room-draw-2">My Room Draw</h2>
<p><img src="room_draw_4.jpg" class="img-fluid"></p>
</section>
<section id="my-room-draw-3" class="level2">
<h2 class="anchored" data-anchor-id="my-room-draw-3">My Room Draw</h2>
<p><img src="room_draw_5.jpg" class="img-fluid"></p>
</section>
<section id="my-room-draw-4" class="level2">
<h2 class="anchored" data-anchor-id="my-room-draw-4">My Room Draw</h2>
<p><img src="room_draw_6.jpg" class="img-fluid"></p>
</section>
<section id="room_draws" class="level2">
<h2 class="anchored" data-anchor-id="room_draws"><code>room_draws</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>room_draws <span class="ot">&lt;-</span> <span class="cf">function</span>(draws, pref_probs, room_occ) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  room_given <span class="ot">&lt;-</span> <span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span>draws, <span class="cf">function</span>(draw) {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      lottery_num <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">sum</span>(room_occ), <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">my_room</span>(lottery_num, pref_probs, room_occ) </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>()</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">draws =</span> <span class="fu">c</span>(draws),</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">red =</span> <span class="fu">c</span>(<span class="fu">calculate_proportion</span>(room_given, <span class="st">"red"</span>)),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">blue =</span> <span class="fu">c</span>(<span class="fu">calculate_proportion</span>(room_given, <span class="st">"blue"</span>)),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">green =</span> <span class="fu">c</span>(<span class="fu">calculate_proportion</span>(room_given, <span class="st">"green"</span>))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="room-draw" class="level2">
<h2 class="anchored" data-anchor-id="room-draw">Room Draw</h2>
<p><img src="room_draw.jpg" class="img-fluid"></p>
</section>
<section id="number-of-draws-to-proportions" class="level2">
<h2 class="anchored" data-anchor-id="number-of-draws-to-proportions">Number of Draws To Proportions</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="presentation_permutation_presentation_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="yourusername/yourrepository" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024 Kevin Valdivia. Except where otherwise noted.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>